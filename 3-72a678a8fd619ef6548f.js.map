{"version":3,"sources":["webpack:///./src/core/pages/pageContext.js","webpack:///./src/core/i18n/Trans.js","webpack:///./src/core/pages/pageHelpers.js","webpack:///./src/core/i18n/i18nContext.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/core/helpers/tools.js","webpack:///./src/core/i18n/translator.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js"],"names":["__webpack_require__","d","__webpack_exports__","PageContextProvider","PageContextConsumer","react__WEBPACK_IMPORTED_MODULE_0__","pageContext","createContext","Provider","Consumer","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","_i18nContext__WEBPACK_IMPORTED_MODULE_2__","_translator__WEBPACK_IMPORTED_MODULE_3__","Trans","_ref","children","a","createElement","catalogue","getTranslator","propTypes","PropTypes","func","isRequired","getTranslationValuesFromContext","context","translate","values","undefined","section","tool","getToolName","getPageLabel","page","mode","label","type","id","WEBSITE_TITLE","getPageMeta","overrides","url","host","localePath","basePath","imageUrl","baseUrl","block","replace","getPageImageUrl","Object","assign","title","getPageSocialMeta","meta","property","content","description","name","filter","mergePageContext","location","isCapturing","search","indexOf","isDebugEnabled","protocol","currentPath","pathname","i18nContext","I18nContextProvider","react__WEBPACK_IMPORTED_MODULE_3___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","query","data","_public_static_d_741359812_json__WEBPACK_IMPORTED_MODULE_2__","_ref2","translations","edges","map","t","node","_pages_pageContext__WEBPACK_IMPORTED_MODULE_5__","find","locale","value","I18nContextConsumer","r","graphql","StaticQueryContext","StaticQuery","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","props","staticQueryData","render","Error","object","string","bestOfJsProject","bestOfJsData","projects","p","slug","key","_temp","translation","template","error","m","module","exports","require","default","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","InternalPageRenderer","json","shape"],"mappings":"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","file":"3-72a678a8fd619ef6548f.js","sourcesContent":["import { createContext } from 'react'\n\nconst pageContext = createContext()\n\nexport const PageContextProvider = pageContext.Provider\nexport const PageContextConsumer = pageContext.Consumer\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { I18nContextConsumer } from './i18nContext'\nimport { getTranslator } from './translator'\n\nconst Trans = ({ children }) => (\n    <I18nContextConsumer>\n        {catalogue => {\n            return children(getTranslator(catalogue))\n        }}\n    </I18nContextConsumer>\n)\n\nTrans.propTypes = {\n    children: PropTypes.func.isRequired\n}\n\nexport default Trans\n","import { getToolName } from '../helpers/tools'\n\nconst WEBSITE_TITLE = 'The State of JavaScript 2018'\n\nexport const getTranslationValuesFromContext = (context, translate) => {\n    const values = {}\n    if (context.section !== undefined) {\n        values.section = translate(`section.${context.section}`)\n    }\n    if (context.tool !== undefined) {\n        values.tool = getToolName(context.tool, translate)\n    }\n\n    return values\n}\n\n/**\n * mode:\n *   - short: React\n *   - normal: Front-end Frameworks : React\n *   - full: The State of JavaScript 2018: Front-end Frameworks : React\n */\nexport const getPageLabel = (page, translate, mode = 'normal') => {\n    let label = ''\n    if (page.type === 'custom') {\n        label = translate(`page.${page.id}`)\n    } else if (page.type === 'section') {\n        if (mode === 'short') {\n            return translate(`section.${page.id}`)\n        }\n\n        label = translate(`page.section_overview`, {\n            values: {\n                section: translate(`section.${page.id}`)\n            }\n        })\n    } else if (page.type === 'overview') {\n        if (mode === 'short') {\n            return translate(`page.section_overview.short`)\n        }\n\n        label = translate(`page.section_overview`, {\n            values: {\n                section: translate(`section.${page.section}`)\n            }\n        })\n    } else if (page.type === 'conclusion') {\n        if (mode === 'short') {\n            return translate('page.section_conclusion.short')\n        }\n\n        label = translate(`page.section_conclusion`, {\n            values: {\n                section: translate(`section.${page.section}`)\n            }\n        })\n    } else if (page.type === 'other-libraries') {\n        if (mode === 'short') {\n            return translate(`page.section_other_tools.short`)\n        }\n\n        label = translate(`page.section_other_tools`, {\n            values: {\n                section: translate(`section.${page.section}`)\n            }\n        })\n    } else if (page.type === 'tool') {\n        if (mode === 'short') {\n            return getToolName(page.tool, translate)\n        }\n\n        label = translate(`page.section_tool`, {\n            values: {\n                section: translate(`section.${page.section}`),\n                tool: getToolName(page.tool, translate)\n            }\n        })\n    }\n\n    if (mode === 'full') {\n        label = `${WEBSITE_TITLE}: ${label}`\n    }\n\n    return label\n}\n\n/**\n * example:\n *   http://2018.stateofjs.com/images/captures/front-end_overview.png\n */\nexport const getPageImageUrl = context => {\n    const baseUrl = `${context.host}/images/`\n\n    let imageUrl\n    if (context.block !== undefined) {\n        imageUrl = `${baseUrl}captures/${context.basePath\n            .replace(/^\\//, '')\n            .replace(/\\/$/, '')\n            .replace(/\\//g, '_')}_${context.block}.png`\n    } else {\n        imageUrl = `${baseUrl}stateofjs2018-social.png`\n    }\n\n    return imageUrl\n}\n\nexport const getPageMeta = (context, translate, overrides = {}) => {\n    const url = `${context.host}${context.localePath}${context.basePath}`\n    const imageUrl = getPageImageUrl(context)\n\n    const meta = {\n        url,\n        title: getPageLabel(context, translate, 'full'),\n        imageUrl,\n        ...overrides\n    }\n\n    return meta\n}\n\nexport const getPageSocialMeta = (context, translate, overrides = {}) => {\n    const meta = getPageMeta(context, translate, overrides)\n\n    const socialMeta = [\n        // facebook\n        { property: 'og:type', content: 'article' },\n        { property: 'og:url', content: meta.url },\n        { property: 'og:image', content: meta.imageUrl },\n        { property: 'og:title', content: meta.title },\n        { property: 'og:description', content: meta.description },\n        // twitter\n        { name: 'twitter:card', content: 'summary_large_image' },\n        { name: 'twitter:image:src', content: meta.imageUrl },\n        { name: 'twitter:title', content: meta.title },\n        { name: 'twitter:description', content: meta.description }\n    ]\n\n    return socialMeta.filter(({ content }) => content !== undefined)\n}\n\n/**\n * Merge context generated from `gatsby-node` with runtime context.\n */\nexport const mergePageContext = (pageContext, location) => {\n    const isCapturing =\n        location && location.search ? location.search.indexOf('capture') !== -1 : false\n    const isDebugEnabled =\n        location && location.search ? location.search.indexOf('debug') !== -1 : false\n\n    let host = 'https://2018.stateofjs.com'\n    if (location && location.host && location.protocol) {\n        host = `${location.protocol}//${location.host}`\n    }\n\n    return {\n        ...pageContext,\n        host,\n        currentPath: location ? location.pathname : undefined,\n        isCapturing,\n        isDebugEnabled\n    }\n}\n","import React, { createContext } from 'react'\nimport { StaticQuery, graphql } from 'gatsby'\nimport { PageContextConsumer } from '../pages/pageContext'\n\nconst i18nContext = createContext()\n\nconst translationsQuery = graphql`\n    query {\n        translations: allTranslationsYaml {\n            edges {\n                node {\n                    locale\n                    translations {\n                        key\n                        t\n                    }\n                }\n            }\n        }\n    }\n`\n\nexport const I18nContextProvider = ({ children }) => (\n    <StaticQuery query={translationsQuery}>\n        {({ translations: _translations }) => {\n            const translations = _translations.edges.map(t => t.node)\n\n            return (\n                <PageContextConsumer>\n                    {context => {\n                        const catalogue = translations.find(t => t.locale === context.locale)\n\n                        return (\n                            <i18nContext.Provider value={catalogue}>\n                                {children}\n                            </i18nContext.Provider>\n                        )\n                    }}\n                </PageContextConsumer>\n            )\n        }}\n    </StaticQuery>\n)\n\nexport const I18nContextConsumer = i18nContext.Consumer\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import bestOfJsData from 'data/bestofjs'\n\nexport const getToolName = (id, translate) => {\n    const bestOfJsProject = bestOfJsData.projects.find(p => p.slug === id)\n    if (bestOfJsProject !== undefined) {\n        return bestOfJsProject.name\n    }\n\n    return translate(`tool.${id}`)\n}\n","import { template } from 'lodash'\n\nexport const getTranslator = ({ locale, translations }) => (key, { values } = {}) => {\n    const translation = translations.find(t => t.key === key)\n\n    if (translation === undefined) {\n        return `[${locale}] ${key}`\n    }\n\n    if (values === undefined) return translation.t\n\n    try {\n        return template(translation.t)(values)\n    } catch (error) {\n        // console.error(error)\n        return `[${locale}][ERR] ${key}`\n    }\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n"],"sourceRoot":""}